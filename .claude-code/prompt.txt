VIGIL GUARD AGENT SYSTEM - AUTO-LOAD PROTOCOL

You are running in a project with a sophisticated 12-agent autonomous orchestration system.

MANDATORY FIRST STEP: Check if agents are initialized
- Run: /status-agents (quick check)
- If no response OR you don't see agent list â†’ Read CLAUDE.md section "Master-Agent Architecture"

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

AGENT SYSTEM OVERVIEW (v2.0.1):

12 AGENTS AVAILABLE:
  ğŸ§ª vg-test-automation          - Test creation, execution, fixtures (Vitest)
  âš™ï¸  vg-workflow-business-logic - Pattern management (rules.config.json)
  ğŸ”’ vg-pii-detection            - Dual-language PII (Polish + English, Presidio)
  ğŸŒ vg-backend-api              - Express API, JWT auth, ClickHouse queries
  ğŸ¨ vg-frontend-ui              - React 18 + Vite + Tailwind v4
  ğŸ“Š vg-data-analytics           - ClickHouse schema, Grafana dashboards
  ğŸ”§ vg-workflow-infrastructure  - n8n JSON structure (40-node pipeline)
  ğŸ‹ vg-infrastructure-deployment- Docker orchestration (9 services)
  ğŸ›¡ï¸  vg-security-compliance     - npm audit, secret scanning, ReDoS
  ğŸ“š vg-documentation            - Doc sync, API generation (59 .md files)
  ğŸ“– vg-tech-docs-navigator      - Tech docs queries (41+ technologies)
  ğŸ¤– vg-master-orchestrator      - Meta-agent (coordinates all 11 workers)

18 SKILLS: Auto-activated based on YAML headers (workflow-json-architect, pattern-library-manager, etc.)

22 SLASH COMMANDS: /vg-orchestrate, /add-detection-pattern, /vg-docs, /status-agents, etc.

5 WORKFLOWS: PATTERN_ADDITION (TDD), SECURITY_AUDIT (parallel), PII_ENTITY_ADDITION, TEST_EXECUTION, SERVICE_DEPLOYMENT

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WHEN TO USE AGENTS:

âœ… Multi-step tasks â†’ /vg-orchestrate [description]
   Example: /vg-orchestrate Add SQL injection detection pattern

âœ… Testing tasks â†’ vg-test-automation
   Example: Use vg-test-automation to run test suite

âœ… Pattern management â†’ vg-workflow-business-logic
   Example: Use vg-workflow-business-logic to add XSS pattern

âœ… PII operations â†’ vg-pii-detection
   Example: Use vg-pii-detection to analyze PESEL entity

âœ… Security audits â†’ vg-security-compliance
   Example: Use vg-security-compliance to run npm audit

âœ… Tech docs queries â†’ /vg-docs <technology>
   Example: /vg-docs react (query React best practices)

âœ… Frontend tasks â†’ vg-frontend-ui
   Example: Use vg-frontend-ui to add new component

âœ… Backend tasks â†’ vg-backend-api
   Example: Use vg-backend-api to create new endpoint

âœ… Analytics queries â†’ vg-data-analytics
   Example: Use vg-data-analytics to create Grafana dashboard

âœ… Docker operations â†’ vg-infrastructure-deployment
   Example: Use vg-infrastructure-deployment to deploy service

âœ… Documentation â†’ vg-documentation
   Example: Use vg-documentation to sync API docs

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

VISIBILITY PROTOCOL (MANDATORY):

You MUST use emoji indicators in EVERY response involving agents:

ğŸ¯ Always show: "Task: [description]"
ğŸ­ Always show: "Strategy: [single|parallel|sequential|workflow]"
ğŸ¤– Always show: "Invoking agent: vg-[name]"
â–¶ï¸  Always show: "Action: [action_name]"
âœ… Always show: "Completed (X.Xs)"
âŒ Always show: "Failed: [error]" (if error occurs)

Example response format:
"""
ğŸ¯ Task: Add SQL injection detection

ğŸ­ Strategy: WORKFLOW (PATTERN_ADDITION)

ğŸ§ª Step 1/4: Invoking agent: vg-test-automation
   â–¶ï¸  Action: create_test
   âœ… Completed (1.2s)

âš™ï¸  Step 2/4: Invoking agent: vg-workflow-business-logic
   â–¶ï¸  Action: add_pattern
   âœ… Completed (0.8s)

ğŸ§ª Step 3/4: Invoking agent: vg-test-automation
   â–¶ï¸  Action: verify_test
   âœ… Completed (2.1s)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ¨ Workflow Completed in 4.1s
"""

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

INTER-AGENT COMMUNICATION:

Agents communicate via MESSAGE BUS:
- Agents can invoke other agents independently
- Message format: { from, to, type, payload, timestamp }
- Workflow state persisted to .claude/state/workflows/*.json
- Agent status tracked in .claude-code/ui-state.json

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

QUICK REFERENCE:

Check agent status:     /status-agents
Run orchestrator:       /vg-orchestrate [task]
Add detection pattern:  /add-detection-pattern
Query tech docs:        /vg-docs [technology]
Agent help:             /agent-help

Full documentation:     CLAUDE.md (42KB), .claude/README.md (13KB)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IMPORTANT NOTES:

1. **ALWAYS use Master Orchestrator** for multi-step tasks (prevents context loss)
2. **Config files via Web UI ONLY** - Never edit rules.config.json directly
3. **n8n workflow changes require import** - User must import JSON to n8n
4. **NO AI attribution in commits** - No "Generated with Claude" footers
5. **TDD workflow mandatory** - Test first, implement second

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

This prompt is loaded automatically by Claude Code via .claude-code/prompt.txt
Last Updated: 2025-11-12 | Agent System v2.0.1
